# CyberSentinel SyslogServer Configuration
# Copy this file to .env and customize values

# ==================== Common Configuration ====================
ENVIRONMENT=production
LOG_LEVEL=INFO
TZ=UTC

# ==================== Syslog Receiver Configuration ====================
RECEIVER_UDP_PORT=514
RECEIVER_TCP_PORT=514
RECEIVER_TLS_PORT=6514
RECEIVER_TLS_ENABLED=true
RECEIVER_TLS_CERT_PATH=/certs/server.crt
RECEIVER_TLS_KEY_PATH=/certs/server.key
RECEIVER_MAX_MESSAGE_SIZE=8192
RECEIVER_WORKERS=4

# ==================== Kafka Configuration ====================
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_RAW_LOGS=raw-logs
KAFKA_TOPIC_PROCESSED_LOGS=processed-logs
KAFKA_TOPIC_ALERTS=alerts
KAFKA_CONSUMER_GROUP_PROCESSOR=log-processor-group
KAFKA_CONSUMER_GROUP_ALERTING=alerting-group
KAFKA_PARTITIONS=6
KAFKA_REPLICATION_FACTOR=1
KAFKA_RETENTION_MS=604800000
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10
KAFKA_COMPRESSION_TYPE=lz4

# ==================== OpenSearch Configuration ====================
OPENSEARCH_HOST=opensearch
OPENSEARCH_PORT=9200
OPENSEARCH_SCHEME=http
OPENSEARCH_USER=admin
OPENSEARCH_PASSWORD=admin
OPENSEARCH_INDEX_PREFIX=cybersentinel-logs
OPENSEARCH_INDEX_ROTATION=daily
OPENSEARCH_BULK_SIZE=500
OPENSEARCH_BULK_TIMEOUT=30
OPENSEARCH_MAX_RETRIES=3

# ==================== Redis Configuration ====================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50

# ==================== API Service Configuration ====================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_SECRET_KEY=change-this-to-a-random-secret-key-in-production
API_ACCESS_TOKEN_EXPIRE_MINUTES=60
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080
API_RATE_LIMIT_PER_MINUTE=100

# ==================== Dashboard Configuration ====================
DASHBOARD_PORT=3000
DASHBOARD_API_URL=http://api:8000

# ==================== Alerting Configuration ====================
ALERTING_CHECK_INTERVAL=60
ALERTING_SMTP_HOST=smtp.gmail.com
ALERTING_SMTP_PORT=587
ALERTING_SMTP_USER=your-email@gmail.com
ALERTING_SMTP_PASSWORD=your-app-password
ALERTING_FROM_EMAIL=cybersentinel@example.com
ALERTING_TO_EMAILS=admin@example.com,security@example.com
ALERTING_SLACK_WEBHOOK_URL=
ALERTING_PAGERDUTY_API_KEY=

# ==================== Processor Configuration ====================
PROCESSOR_WORKERS=4
PROCESSOR_BATCH_SIZE=100
PROCESSOR_GEO_IP_ENABLED=true
PROCESSOR_THREAT_INTEL_ENABLED=false

# ==================== Monitoring Configuration ====================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==================== Security Configuration ====================
JWT_SECRET_KEY=change-this-jwt-secret-in-production
JWT_ALGORITHM=HS256
BCRYPT_ROUNDS=12

# ==================== Database Configuration ====================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=cybersentinel
POSTGRES_USER=cybersentinel
POSTGRES_PASSWORD=change-this-password-in-production

# ==================== Resource Limits ====================
RECEIVER_MAX_MEMORY=512m
PROCESSOR_MAX_MEMORY=1g
API_MAX_MEMORY=512m
ALERTING_MAX_MEMORY=256m
DASHBOARD_MAX_MEMORY=256m
